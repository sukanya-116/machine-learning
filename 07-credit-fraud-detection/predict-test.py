import requests


url = 'http://localhost:8000/predict'

payload1 = {
    "time": 10000,
    "v1": -1.23,
    "v2": 0.54,
    "v3": -0.12,
    "v4": 0.98,
    "v5": -0.44,
    "v6": -1.1,
    "v7": 0.32,
    "v8": -0.67,
    "v9": 0.05,
    "v10": -0.34,
    "v11": 1.22,
    "v12": -0.22,
    "v13": 0.11,
    "v14": -0.77,
    "v15": 0.28,
    "v16": -0.09,
    "v17": 0.44,
    "v18": -0.16,
    "v19": 0.14,
    "v20": -0.02,
    "v21": 0.18,
    "v22": -0.03,
    "v23": 0.24,
    "v24": -0.26,
    "v25": 0.17,
    "v26": -0.19,
    "v27": 0.07,
    "v28": -0.14,
    "amount": 200.50
}

payload2 = {
    "time": 406,
    "v1": -2.3122265423263,
    "v2": 1.95199201064158,
    "v3": -1.60985073229769,
    "v4": 3.9979055875468,
    "v5": -0.522187864667764,
    "v6": -1.42654531920595,
    "v7": -2.53738730624579,
    "v8": 1.39165724829804,
    "v9": -2.77008927719433,
    "v10": -2.77227214465915,
    "v11": 3.20203320709635,
    "v12": -2.89990738849473,
    "v13": -0.595221881324605,
    "v14": -4.28925378244217,
    "v15":0.389724120274487,
    "v16": -1.1407471798065,
    "v17": -2.83005567450437,
    "v18": -0.0168224681808257,
    "v19": 0.126910559061474,
    "v20": 0.517232370861764,
    "v21": -0.035049368,
    "v22": -0.4652110,
    "v23": 0.32019,
    "v24": 0.04451916,
    "v25":0.177839798284,
    "v26": 0.2611,
    "v27":-0.14327,
    "v28": 0,
    "amount": 200.50
}

try:
    response = requests.post(url, json=payload1)

    print("Status Code:", response.status_code)
    data = response.json()
    print("Response:", data)

    if data['risk']:
        print("⚠️  Risky transaction detected!")
    else:
        print("✅  Transaction looks safe.")


except Exception as e:
    print("Error:", e)